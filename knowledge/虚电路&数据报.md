虚电路网络（Virtual Circuit Network）和数据报网络（Datagram Network）是两种实现数据传输的网络模型，它们在连接建立、路由选择、可靠性保障等方面有显著的区别。以下是它们的主要差异的详细解释。

---

### **虚电路网络与数据报网络的区别**

| 特性                     | **虚电路网络**                            | **数据报网络**                            |
|--------------------------|--------------------------------------------|--------------------------------------------|
| **可靠数据传输的责任**    | 由网络负责。                             | 由用户主机负责。                           |
| **是否需要建立连接**      | **需要**：在发送数据之前必须先建立连接。    | **不需要**：分组可直接发送，无需事先建立连接。 |
| **路由方式**              | 同一条虚电路的分组按**统一路由转发**。      | 每个分组独立转发，路由可能不同。            |
| **故障影响**              | 如果路径中的一个路由器损坏，则分组无法送达。 | 如果一个路由器损坏，剩余分组可通过其他路由。 |
| **分组到达顺序**          | 分组**按序到达**。                         | 分组可能**乱序到达**，需要主机重排序。       |
| **差错控制**              | 通常由网络负责，也可以由用户主机负责。      | 由用户主机负责。                           |

---

### **1. 可靠数据传输的责任**

- **虚电路网络**：
  - 网络保证可靠性，负责错误检测和纠正。路由器和交换设备在传输过程中检测差错并进行恢复。
  - 用户主机无需关注网络内部差错，可靠性由网络层保证。

- **数据报网络**：
  - 数据报网络采用“尽力而为”的传输方式，不保证可靠性。用户主机必须自行检测差错并重传丢失的数据包。
  - 应用程序（如TCP）需在传输层实现可靠数据传输。

---

### **2. 是否需要建立连接**

- **虚电路网络**：
  - 在发送数据之前，必须建立一条逻辑上的“虚电路”。这条虚电路在源主机和目的主机之间保持不变，所有分组都沿这条虚电路传输。
  - 连接建立后，网络将分配资源并为虚电路提供服务。常见例子是 **电话网络** 或 **ATM 网络**。

- **数据报网络**：
  - 不需要事先建立连接，每个数据报是独立的，且包含完整的目的地址信息。
  - 网络不会为某条传输路径分配特定资源，数据包之间没有关联。例如 **IP 网络**。

---

### **3. 路由方式**

- **虚电路网络**：
  - 同一条虚电路的所有分组按照预先确定的路径传输，分组到达路径固定，不会变化。
  - 网络建立连接时确定路径，分组传输时无需再次进行路由选择。

- **数据报网络**：
  - 每个分组独立进行路由选择，每次传输时可能选用不同的路径。
  - 不同分组可以通过不同的路径到达目的地。

---

### **4. 故障影响**

- **虚电路网络**：
  - 如果路径中的一个路由器或交换节点损坏，整条虚电路会中断，所有分组都无法到达目的地。
  - 需要重新建立新的虚电路才能恢复传输。

- **数据报网络**：
  - 如果某个路由器损坏，剩余的分组可以通过其他可用的路由转发到目的地。
  - 数据报网络具有更强的容错能力，因为路由选择是动态的。

---

### **5. 分组到达顺序**

- **虚电路网络**：
  - 由于所有分组都按照相同的路径传输，分组会按序到达。
  - 应用层无需考虑分组乱序问题。

- **数据报网络**：
  - 分组可能通过不同路径传输，因此到达目的地时可能乱序。
  - 应用层（如TCP）需要对分组进行重排序。

---

### **6. 差错控制**

- **虚电路网络**：
  - 网络内部通常提供差错控制，包括丢包检测和重传机制，确保可靠性。
  - 用户主机也可以负责差错控制，但大多数情况下网络本身即可保证传输可靠。

- **数据报网络**：
  - 差错控制由用户主机负责。接收主机通过校验和检测数据完整性，发送主机在必要时重新发送丢失或错误的数据。

---

### **虚电路网络和数据报网络的应用场景**

#### **虚电路网络的典型应用**：
- 电话通信网络（如PSTN）
- ATM（异步传输模式）网络
- MPLS（多协议标签交换）

#### **数据报网络的典型应用**：
- 互联网的IP层
- UDP协议（尽力而为的传输）
- 无需可靠性保障但要求快速传输的场景（如实时视频流）。

---

### **总结**

- **虚电路网络**通过连接建立和固定路径提供可靠性，适用于对可靠性要求高且传输路径稳定的场景。
- **数据报网络**更灵活，支持动态路由和分组独立转发，但可靠性需要上层协议（如TCP）来补充。

两者在设计理念上具有显著差异，但针对不同场景有各自的优势。